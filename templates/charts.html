</span>{% extends "base.html" %}
{% block title %}Tilastoja{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block content %}
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='chartsStyle.css') }}">
        <script type="text/javascript">
            var selitteet = {{ selitteet|tojson }};
            var aluedata = {{ data|tojson }};
        </script>
        <script type="module" src="{{ url_for("static", filename="charts.js") }}"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <div id="root"></div>
        <div id="data">
            <h2>{{ data['nimi'] }} ({{ data['id'] }})</h2>

            <button type="button" class="collapsible">Perustiedot</button>
            <div class="kaaviot">
                <iframe src="/pnmap?pnro={{ data['id'] }}" style="border:none;height:500px;width:800px;float:left;"></iframe>
                <div class="infopanel">
                    <h4>Alueen pinta-ala, asukkaiden lukumäärä ja asukastiheys</h4>
                    <p id="pinta_ala">Pinta-ala: {{ data['Pinta_ala'] }} m²</p>
                    <p id="as_lkm">Asukkaita yhteensä: {{ data['He_vakiy'] }}</p>
                    <p id="as_tiheys">Asukastiheys: {{ data['He_as_tiheys'] }} asukasta/km²</p>
                </div>
            </div>

            <button type="button" class="collapsible">Ikärakenne</button>
            <div class="kaaviot">
                <div class="piechart" id="chart_sukupuoli" style="width:40em; height:20em; float:left;"></div>
                <div class="barchart" id="chart_ikajakauma" style="width:40em; height:20em; float:left;"></div>
                <div class="infopanel">
                    <h4>Alueen asukkaiden keski-ikä</h4>
                    <p id="keski_ika">Asukkaiden keski-ikä: </p>
                </div>
            </div>

             <button type="button" class="collapsible">Tuloluokat</button>
            <div class="kaaviot">
                <div id="chart_tuloluokat" class="piechart" style="width:40em; height:20em; float:left;"></div>
                <div class="infopanel">
                    <h4>Alueen asukkaiden keskitulot</h4>
                    <p id="as_tulot">Asukkaiden keskitulot: </p>
                </div>
            </div>

            <button type="button" class="collapsible">Koulutus</button>
            <div class="kaaviot">
                <div id="chart_koulutus" class="piechart" style="width:40em; height:20em; float:left;"></div>
                <div class="infopanel">
                    <h4>Alueen koulutettujen asukkaiden määrä</h4>
                    <p id="koulutetut">Koulutetut yhteensä: </p>
                </div>
                {% if data['koulut_ak_lkm'] > 0 %}
                <div class="infopanel">
                    <h4>Alueen alakoulut</h4>
                    <p id="koulut_ak_lkm">Lukumäärä: {{ data['koulut_ak_lkm'] }}</p>
                    <p id="koulut_ak_oppilaat">Oppilaat: {{ data['koulut_ak_oppilaat'] }}</p>
                    <p id="koulut_ak_ryhmat">Opetusryhmät: {{ data['koulut_ak_ryhmat'] }}</p>
                    <p id="koulut_ak_lkm">Keskimääräinen ryhmäkoko: {{ data['koulut_ak_ryhmakoko'] }}</p>
                </div>
                {% endif %}
                {% if data['koulut_yk_lkm'] > 0 %}
                <div class="infopanel">
                    <h4>Alueen yläkoulut</h4>
                    <p id="koulut_yk_lkm">Lukumäärä: {{ data['koulut_yk_lkm'] }}</p>
                    <p id="koulut_yk_oppilaat">Oppilaat: {{ data['koulut_yk_oppilaat'] }}</p>
                    <p id="koulut_yk_ryhmat">Opetusryhmät: {{ data['koulut_yk_ryhmat'] }}</p>
                    <p id="koulut_yk_lkm">Keskimääräinen ryhmäkoko: {{ data['koulut_yk_ryhmakoko'] }}</p>
                </div>
                {% endif %}
            </div>

            <button type="button" class="collapsible">Väestön jakautuminen</button>
            <div class="kaaviot">
                <div id="chart_vaesto" class="piechart" style="width:40em; height:20em; float:left;"></div>
            </div>

            <button type="button" class="collapsible">Asuminen</button>
            <div class="kaaviot">
                <div id="chart_asuminen" class="piechart" style="width:40em; height:20em; float:left;"></div>
                <div id="chart_taloudet2" class="piechart" style="width:40em; height:20em; float:left;"></div>
                <div class="infopanel">
                    <h4>Alueen asuntojen keskipinta-ala</h4>
                    <p id="as_kpinta_ala">Asuntojen keskipinta-ala: </p>
                </div>
                {% if data['Ra_ke'] > 0 %}
                <div class="infopanel">
                    <h4>Alueen Kesämökit</h4>
                    <p id="kesamokit">Lukumäärä: {{ data['Ra_ke'] }}</p>
                </div>
                {% endif %}
            </div>

            <button type="button" class="collapsible">Taloudet</button>
            <div class="kaaviot">
                <div id="chart_taloudet1" class="piechart" style="width:40em; height:20em; float:left;"></div>
                <div class="infopanel">
                    <h4>Alueen taloudet</h4>
                    <p id="t_lkm">Yhteensä: </p>
                    <p id="t_keskikoko">Keskikoko: </p>
                </div>
            </div>

            <button type="button" class="collapsible">Työpaikat</button>
            <div class="kaaviot">
                <div id="chart_tyollisyys" class="piechart" style="width:40em; height:20em; float:left;"></div>
                <div class="infopanel">
                    <h4>Alueen yritykset</h4>
                    <p id="yritykset">Yritysten lukumäärä: {{ data['yritykset_lkm'] }}</p>
                </div>
                <div class="barchart" id="chart_palvelutyopaikat" style="width:70em; height:50em; float:left;"></div>
            </div>
        </div>
{% endblock %}
